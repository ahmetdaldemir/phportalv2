import{e,r as a,m as t,a as l,i as s,b as n,t as r,g as i,o,w as c,n as u,c as d,d as m,f as v,h as p,j as b,k as f,l as h,p as y,q as g,s as _,u as k,v as x,x as w,y as S,z as T,A,B as j,C as I,D as B,E as O,F as D,G as E,H as L,I as z,J as C,K as $,L as P,M as N}from"./vendor-Du7Ql2sK.js";import{r as U,g as q}from"./utils-0uXGQZeQ.js";
/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let G;const R=e=>G=e,F=Symbol();function K(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var M,V;(V=M||(M={})).direct="direct",V.patchObject="patch object",V.patchFunction="patch function";const Y=()=>{};function Z(e,a,t,l=Y){e.push(a);const s=()=>{const t=e.indexOf(a);t>-1&&(e.splice(t,1),l())};return!t&&i()&&o(s),s}function J(e,...a){e.slice().forEach(e=>{e(...a)})}const H=e=>e(),W=Symbol(),X=Symbol();function Q(e,a){e instanceof Map&&a instanceof Map?a.forEach((a,t)=>e.set(t,a)):e instanceof Set&&a instanceof Set&&a.forEach(e.add,e);for(const t in a){if(!a.hasOwnProperty(t))continue;const l=a[t],r=e[t];K(r)&&K(l)&&e.hasOwnProperty(t)&&!s(l)&&!n(l)?e[t]=Q(r,l):e[t]=l}return e}const ee=Symbol();function ae(e){return!K(e)||!Object.prototype.hasOwnProperty.call(e,ee)}const{assign:te}=Object;function le(e){return!(!s(e)||!e.effect)}function se(t,i,o={},d,m,v){let p;const b=te({actions:{}},o),f={deep:!0};let h,y,g,_=[],k=[];const x=d.state.value[t];let w;function S(e){let a;h=y=!1,"function"==typeof e?(e(d.state.value[t]),a={type:M.patchFunction,storeId:t,events:g}):(Q(d.state.value[t],e),a={type:M.patchObject,payload:e,storeId:t,events:g});const l=w=Symbol();u().then(()=>{w===l&&(h=!0)}),y=!0,J(_,a,d.state.value[t])}v||x||(d.state.value[t]={}),a({});const T=v?function(){const{state:e}=o,a=e?e():{};this.$patch(e=>{te(e,a)})}:Y;const A=(e,a="")=>{if(W in e)return e[X]=a,e;const l=function(){R(d);const a=Array.from(arguments),s=[],n=[];let r;J(k,{args:a,name:l[X],store:I,after:function(e){s.push(e)},onError:function(e){n.push(e)}});try{r=e.apply(this&&this.$id===t?this:I,a)}catch(i){throw J(n,i),i}return r instanceof Promise?r.then(e=>(J(s,e),e)).catch(e=>(J(n,e),Promise.reject(e))):(J(s,r),r)};return l[W]=!0,l[X]=a,l},j={_p:d,$id:t,$onAction:Z.bind(null,k),$patch:S,$reset:T,$subscribe(e,a={}){const l=Z(_,e,a.detached,()=>s()),s=p.run(()=>c(()=>d.state.value[t],l=>{("sync"===a.flush?y:h)&&e({storeId:t,type:M.direct,events:g},l)},te({},f,a)));return l},$dispose:function(){p.stop(),_=[],k=[],d._s.delete(t)}},I=l(j);d._s.set(t,I);const B=(d._a&&d._a.runWithContext||H)(()=>d._e.run(()=>(p=e()).run(()=>i({action:A}))));for(const e in B){const a=B[e];if(s(a)&&!le(a)||n(a))v||(x&&ae(a)&&(s(a)?a.value=x[e]:Q(a,x[e])),d.state.value[t][e]=a);else if("function"==typeof a){const t=A(a,e);B[e]=t,b.actions[e]=a}}return te(I,B),te(r(I),B),Object.defineProperty(I,"$state",{get:()=>d.state.value[t],set:e=>{S(a=>{te(a,e)})}}),d._p.forEach(e=>{te(I,p.run(()=>e({store:I,app:d._a,pinia:d,options:b})))}),x&&v&&o.hydrate&&o.hydrate(I.$state,x),h=!0,y=!0,I}
/*! #__NO_SIDE_EFFECTS__ */function ne(e,a,l){let s;const n="function"==typeof a;function r(l,r){const i=p();(l=l||(i?v(F,null):null))&&R(l),(l=G)._s.has(e)||(n?se(e,a,s,l):function(e,a,l){const{state:s,actions:n,getters:r}=a,i=l.state.value[e];let o;o=se(e,function(){i||(l.state.value[e]=s?s():{});const a=d(l.state.value[e]);return te(a,n,Object.keys(r||{}).reduce((a,s)=>(a[s]=t(m(()=>{R(l);const a=l._s.get(e);return r[s].call(a,a)})),a),{}))},a,l,0,!0)}(e,s,l));return l._s.get(e)}return s=n?l:a,r.$id=e,r}const re=q(U()).create({baseURL:"/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});re.interceptors.request.use(e=>{const a=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");a&&(e.headers["X-CSRF-TOKEN"]=a);const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),re.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));const ie=ne("auth",()=>{const e=a(null),t=a(!1),l=a(!1),s=m(()=>e.value),n=m(()=>t.value),r=m(()=>l.value);return{user:e,isAuthenticated:t,loading:l,currentUser:s,isLoggedIn:n,isLoading:r,login:async a=>{l.value=!0;try{const l=await re.post("/login",a),{user:s,token:n,permissions:r,roles:i}=l.data;return localStorage.setItem("auth_token",n),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("permissions",JSON.stringify(r)),localStorage.setItem("roles",JSON.stringify(i)),e.value=s,t.value=!0,l.data}catch(s){throw console.error("Login error:",s),s}finally{l.value=!1}},logout:async()=>{try{await re.post("/logout")}catch(a){console.error("Logout error:",a)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("permissions"),localStorage.removeItem("roles"),e.value=null,t.value=!1}},checkAuth:async()=>{try{if(!localStorage.getItem("auth_token"))return!1;const a=await re.get("/user");return e.value=a.data,t.value=!0,!0}catch(a){return console.error("Auth check error:",a),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),e.value=null,t.value=!1,!1}},initializeAuth:()=>{const a=localStorage.getItem("user"),l=localStorage.getItem("auth_token");a&&l&&(e.value=JSON.parse(a),t.value=!0)}}}),oe={class:"app-brand-logo demo"},ce=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t},ue=ce(b({__name:"Logo",setup:e=>(e,a)=>(y(),f("div",oe,a[0]||(a[0]=[h("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[h("path",{d:"M21 10C21 14.9706 16.9706 19 12 19C7.02944 19 3 14.9706 3 10C3 5.02944 7.02944 1 12 1C16.9706 1 21 5.02944 21 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M12 7V13L15 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])))}),[["__scopeId","data-v-c7909811"]]),de={class:"content-footer footer bg-footer-theme"},me={class:"container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column"},ve={class:"mb-2 mb-md-0"},pe=b({__name:"Footer",setup:e=>(e,a)=>(y(),f("footer",de,[h("div",me,[h("div",ve,[g(" © "+_((new Date).getFullYear())+" ",1),a[0]||(a[0]=h("a",{href:"https://themeselection.com",target:"_blank",class:"footer-link fw-bolder"},"PHP Portal",-1))]),a[1]||(a[1]=h("div",null,[h("a",{href:"https://themeselection.com/license/",class:"footer-link me-4",target:"_blank"},"License"),h("a",{href:"javascript:void(0)",class:"footer-link me-4"},"Help"),h("a",{href:"javascript:void(0)",class:"footer-link"},"Contact")],-1))])]))}),be={class:"layout-wrapper layout-content-navbar"},fe={class:"layout-container"},he={id:"layout-menu",class:"layout-menu menu-vertical menu bg-menu-theme"},ye={class:"app-brand demo"},ge={class:"app-brand-logo demo"},_e={class:"menu-inner py-1",style:{overflow:"auto"}},ke={class:"menu-item"},xe={class:"layout-page"},we={class:"layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"},Se={class:"navbar-nav-right d-flex align-items-center",id:"navbar-collapse"},Te={class:"navbar-nav flex-row align-items-center ms-auto"},Ae={class:"nav-item navbar-dropdown dropdown-user dropdown"},je={class:"dropdown-menu dropdown-menu-end"},Ie={class:"dropdown-item",href:"#"},Be={class:"d-flex"},Oe={class:"flex-grow-1"},De={class:"fw-semibold d-block"},Ee={class:"content-wrapper"},Le=ce(b({__name:"AdminLayout",setup(e){const a=j(),t=A(),l=ie(),s=async()=>{try{await l.logout(),a.push({name:"login"})}catch(e){console.error("Logout error:",e)}};return(e,a)=>{const n=w("router-link"),r=w("router-view");return y(),f("div",be,[h("div",fe,[h("aside",he,[h("div",ye,[k(n,{to:"/",class:"app-brand-link"},{default:x(()=>[h("span",ge,[k(ue)])]),_:1}),a[0]||(a[0]=h("a",{href:"javascript:void(0);",class:"layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none"},[h("i",{class:"bx bx-chevron-left bx-sm align-middle"})],-1))]),a[8]||(a[8]=h("div",{class:"menu-inner-shadow"},null,-1)),h("ul",_e,[h("li",{class:S(["menu-item",{active:"dashboard"===T(t).name}])},[k(n,{to:"/",class:"menu-link"},{default:x(()=>a[1]||(a[1]=[h("i",{class:"menu-icon tf-icons bx bx-home-circle"},null,-1),h("div",{"data-i18n":"Analytics"},"Anasayfa",-1)])),_:1,__:[1]})],2),a[6]||(a[6]=h("li",{class:"menu-header small text-uppercase"},[h("span",{class:"menu-header-text"},"Kategoriler")],-1)),h("li",ke,[k(n,{to:"/phones",class:"menu-link"},{default:x(()=>a[2]||(a[2]=[h("i",{class:"menu-icon tf-icons bx bx-collection"},null,-1),h("div",{"data-i18n":"Basic"},"Telefon",-1)])),_:1,__:[2]})]),a[7]||(a[7]=h("li",{class:"menu-header small text-uppercase"},[h("span",{class:"menu-header-text"},"Stok İşlemleri")],-1)),h("li",{class:S(["menu-item",{active:"stockcards"===T(t).name}])},[k(n,{to:"/stockcards",class:"menu-link"},{default:x(()=>a[3]||(a[3]=[h("i",{class:"menu-icon tf-icons bx bx-collection"},null,-1),h("div",{"data-i18n":"Basic"},"Stok Kartları",-1)])),_:1,__:[3]})],2),h("li",{class:S(["menu-item",{active:"transfers"===T(t).name}])},[k(n,{to:"/transfers",class:"menu-link"},{default:x(()=>a[4]||(a[4]=[h("i",{class:"menu-icon tf-icons bx bx-collection"},null,-1),h("div",{"data-i18n":"Basic"},"Sevk",-1)])),_:1,__:[4]})],2),h("li",{class:S(["menu-item",{active:"sales"===T(t).name}])},[k(n,{to:"/sales",class:"menu-link"},{default:x(()=>a[5]||(a[5]=[h("i",{class:"menu-icon tf-icons bx bx-collection"},null,-1),h("div",{"data-i18n":"Basic"},"Satış",-1)])),_:1,__:[5]})],2)])]),h("div",xe,[h("nav",we,[a[15]||(a[15]=h("div",{class:"layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none"},[h("a",{class:"nav-item nav-link px-0 me-xl-4",href:"javascript:void(0)"},[h("i",{class:"bx bx-menu bx-sm"})])],-1)),h("div",Se,[a[14]||(a[14]=h("div",{class:"navbar-nav align-items-center"},[h("div",{class:"nav-item d-flex align-items-center"},[h("i",{class:"bx bx-search fs-4 lh-0"}),h("input",{type:"text",class:"form-control border-0 shadow-none",placeholder:"Arama...","aria-label":"Arama..."})])],-1)),h("ul",Te,[h("li",Ae,[a[13]||(a[13]=h("a",{class:"nav-link dropdown-toggle hide-arrow",href:"javascript:void(0);","data-bs-toggle":"dropdown"},[h("div",{class:"avatar avatar-online"},[h("i",{class:"bx bx-user w-px-40 h-auto rounded-circle",style:{"font-size":"35px",background:"blueviolet",color:"#fff","text-align":"center"}})])],-1)),h("ul",je,[h("li",null,[h("a",Ie,[h("div",Be,[a[10]||(a[10]=h("div",{class:"flex-shrink-0 me-3"},[h("div",{class:"avatar avatar-online"},[h("i",{class:"bx bx-user w-px-40 h-auto rounded-circle",style:{"font-size":"35px",background:"blueviolet",color:"#fff","text-align":"center"}})])],-1)),h("div",Oe,[h("span",De,_(T(l).currentUser?.name||"User"),1),a[9]||(a[9]=h("small",{class:"text-muted"},"Admin",-1))])])])]),a[12]||(a[12]=h("li",null,[h("div",{class:"dropdown-divider"})],-1)),h("li",null,[h("a",{class:"dropdown-item",href:"#",onClick:s},a[11]||(a[11]=[h("i",{class:"bx bx-power-off me-2"},null,-1),h("span",{class:"align-middle"},"Log Out",-1)]))])])])])])]),h("div",Ee,[k(r),k(pe)])])])])}}}),[["__scopeId","data-v-230dd6ba"]]),ze={class:"login-container"},Ce={class:"login-card"},$e={class:"form-group"},Pe={key:0,class:"invalid-feedback"},Ne={class:"form-group"},Ue={key:0,class:"invalid-feedback"},qe={class:"form-group"},Ge=["disabled"],Re={key:0,class:"spinner-border spinner-border-sm me-2"},Fe={key:0,class:"alert alert-danger"},Ke=ce(b({__name:"Login",setup(e){const t=j(),s=ie(),n=l({email:"",password:""}),r=l({email:"",password:""}),i=a(""),o=async()=>{if(r.email="",r.password="",n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(r.email="Geçerli bir e-posta adresi girin"):r.email="E-posta adresi gereklidir",n.password?n.password.length<6&&(r.password="Şifre en az 6 karakter olmalıdır"):r.password="Şifre gereklidir",!r.email&&!r.password){i.value="";try{await s.login(n),t.push({name:"dashboard"})}catch(e){if(e.response?.data?.message)i.value=e.response.data.message;else if(e.response?.data?.errors){const a=e.response.data.errors;a.email&&(a.email=a.email[0]),a.password&&(a.password=a.password[0])}else i.value="Giriş yapılırken bir hata oluştu"}}};return(e,a)=>(y(),f("div",ze,[h("div",Ce,[a[4]||(a[4]=h("div",{class:"login-header"},[h("h1",null,"PHP Portal"),h("p",null,"Giriş yapın")],-1)),h("form",{onSubmit:I(o,["prevent"]),class:"login-form"},[h("div",$e,[a[2]||(a[2]=h("label",{for:"email"},"E-posta",-1)),O(h("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>n.email=e),type:"email",class:S(["form-control",{"is-invalid":r.email}]),placeholder:"E-posta adresinizi girin",required:""},null,2),[[D,n.email]]),r.email?(y(),f("div",Pe,_(r.email),1)):B("",!0)]),h("div",Ne,[a[3]||(a[3]=h("label",{for:"password"},"Şifre",-1)),O(h("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>n.password=e),type:"password",class:S(["form-control",{"is-invalid":r.password}]),placeholder:"Şifrenizi girin",required:""},null,2),[[D,n.password]]),r.password?(y(),f("div",Ue,_(r.password),1)):B("",!0)]),h("div",qe,[h("button",{type:"submit",class:"btn btn-primary w-100",disabled:T(s).isLoading},[T(s).isLoading?(y(),f("span",Re)):B("",!0),g(" "+_(T(s).isLoading?"Giriş yapılıyor...":"Giriş Yap"),1)],8,Ge)]),i.value?(y(),f("div",Fe,_(i.value),1)):B("",!0)],32),a[5]||(a[5]=h("div",{class:"login-footer"},[h("p",{class:"text-muted"}," Test hesabı: admin@testcompany.com / password ")],-1))])]))}}),[["__scopeId","data-v-f958b1d1"]]),Me={class:"container-xxl flex-grow-1 container-p-y"},Ve={class:"row"},Ye={class:"col-lg-3 col-md-6 col-12 mb-4"},Ze={class:"card card-vue"},Je={class:"card-body"},He={class:"d-flex justify-content-between"},We={class:"text-primary"},Xe={class:"col-lg-3 col-md-6 col-12 mb-4"},Qe={class:"card card-vue"},ea={class:"card-body"},aa={class:"d-flex justify-content-between"},ta={class:"text-warning"},la={class:"col-lg-3 col-md-6 col-12 mb-4"},sa={class:"card card-vue"},na={class:"card-body"},ra={class:"d-flex justify-content-between"},ia={class:"text-success"},oa={class:"col-lg-3 col-md-6 col-12 mb-4"},ca={class:"card card-vue"},ua={class:"card-body"},da={class:"d-flex justify-content-between"},ma={class:"text-info"},va={class:"row"},pa={class:"col-lg-8 col-12 mb-4"},ba={class:"card card-vue"},fa={class:"card-body"},ha={class:"table-responsive"},ya={class:"table table-vue"},ga={class:"col-lg-4 col-12 mb-4"},_a={class:"card card-vue"},ka={class:"card-body"},xa={class:"d-grid gap-2"},wa=b({__name:"Dashboard",setup(e){j();const t=a({totalTransfers:0,pendingTransfers:0,totalSales:0,totalStockCards:0}),l=a([]),s={0:"Bekliyor",1:"Onaylandı",2:"Reddedildi",3:"Tamamlandı"},n=e=>{switch(e){case 0:return"warning";case 1:return"success";case 2:return"danger";case 3:return"info";default:return"secondary"}};return E(()=>{(async()=>{try{const e=await re.get("/dashboard/stats");t.value=e.data;const a=await re.get("/dashboard/recent-transfers");l.value=a.data}catch(e){console.error("Error loading dashboard data:",e)}})()}),(e,a)=>{const r=w("router-link");return y(),f("div",Me,[a[14]||(a[14]=h("h4",{class:"fw-bold py-3 mb-4"},"Dashboard",-1)),h("div",Ve,[h("div",Ye,[h("div",Ze,[h("div",Je,[h("div",He,[h("div",null,[a[0]||(a[0]=h("h5",{class:"card-title"},"Toplam Sevk",-1)),h("h3",We,_(t.value.totalTransfers),1)]),a[1]||(a[1]=h("div",{class:"avatar avatar-md bg-primary rounded"},[h("i",{class:"bx bx-transfer fs-4 text-white"})],-1))])])])]),h("div",Xe,[h("div",Qe,[h("div",ea,[h("div",aa,[h("div",null,[a[2]||(a[2]=h("h5",{class:"card-title"},"Bekleyen Sevk",-1)),h("h3",ta,_(t.value.pendingTransfers),1)]),a[3]||(a[3]=h("div",{class:"avatar avatar-md bg-warning rounded"},[h("i",{class:"bx bx-time fs-4 text-white"})],-1))])])])]),h("div",la,[h("div",sa,[h("div",na,[h("div",ra,[h("div",null,[a[4]||(a[4]=h("h5",{class:"card-title"},"Toplam Satış",-1)),h("h3",ia,_(t.value.totalSales),1)]),a[5]||(a[5]=h("div",{class:"avatar avatar-md bg-success rounded"},[h("i",{class:"bx bx-shopping-bag fs-4 text-white"})],-1))])])])]),h("div",oa,[h("div",ca,[h("div",ua,[h("div",da,[h("div",null,[a[6]||(a[6]=h("h5",{class:"card-title"},"Stok Kartları",-1)),h("h3",ma,_(t.value.totalStockCards),1)]),a[7]||(a[7]=h("div",{class:"avatar avatar-md bg-info rounded"},[h("i",{class:"bx bx-package fs-4 text-white"})],-1))])])])])]),h("div",va,[h("div",pa,[h("div",ba,[a[9]||(a[9]=h("div",{class:"card-header"},[h("h5",{class:"card-title"},"Son Sevkler")],-1)),h("div",fa,[h("div",ha,[h("table",ya,[a[8]||(a[8]=h("thead",null,[h("tr",null,[h("th",null,"Numara"),h("th",null,"Tip"),h("th",null,"Durum"),h("th",null,"Tarih")])],-1)),h("tbody",null,[(y(!0),f(L,null,z(l.value,e=>{return y(),f("tr",{key:e.id},[h("td",null,[k(r,{to:`/transfers/${e.id}`},{default:x(()=>[g(_(e.number),1)]),_:2},1032,["to"])]),h("td",null,_("phone"===e.type?"TELEFON":"DİĞER"),1),h("td",null,[h("span",{class:S(`badge badge-vue status-${n(e.is_status)}`)},_(s[e.is_status]),3)]),h("td",null,_((a=e.created_at,new Date(a).toLocaleDateString("tr-TR"))),1)]);var a}),128))])])])])])]),h("div",ga,[h("div",_a,[a[13]||(a[13]=h("div",{class:"card-header"},[h("h5",{class:"card-title"},"Hızlı İşlemler")],-1)),h("div",ka,[h("div",xa,[k(r,{to:"/transfers/create",class:"btn btn-vue"},{default:x(()=>a[10]||(a[10]=[h("i",{class:"bx bx-plus me-2"},null,-1),g(" Yeni Sevk Oluştur ",-1)])),_:1,__:[10]}),k(r,{to:"/stockcards",class:"btn btn-outline-primary"},{default:x(()=>a[11]||(a[11]=[h("i",{class:"bx bx-package me-2"},null,-1),g(" Stok Kartları ",-1)])),_:1,__:[11]}),k(r,{to:"/sales",class:"btn btn-outline-success"},{default:x(()=>a[12]||(a[12]=[h("i",{class:"bx bx-shopping-bag me-2"},null,-1),g(" Satış İşlemleri ",-1)])),_:1,__:[12]})])])])])])])}}}),Sa=ne("transfer",()=>{const e=a([]),t=a(!1),l=a(null),s=m(()=>t.value),n=m(()=>null!==l.value),r=m(()=>l.value);return{transfers:e,loading:t,error:l,isLoading:s,hasError:n,errorMessage:r,fetchTransfers:async a=>{t.value=!0,l.value=null;try{e.value=[{id:1,number:"TRF-001",type:"phone",main_seller_id:1,delivery_seller_id:2,user_id:1,is_status:1,created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z",user:{id:1,name:"John Doe",email:"john@example.com",company_id:1,seller_id:1},mainSeller:{id:1,name:"Ana Bayi",company_id:1,is_status:1},deliverySeller:{id:2,name:"Alt Bayi",company_id:1,is_status:1}},{id:2,number:"TRF-002",type:"other",main_seller_id:2,delivery_seller_id:1,user_id:2,is_status:3,comfirm_id:1,comfirm_date:"2024-01-16T14:30:00Z",created_at:"2024-01-16T09:00:00Z",updated_at:"2024-01-16T14:30:00Z",user:{id:2,name:"Jane Smith",email:"jane@example.com",company_id:1,seller_id:2},mainSeller:{id:2,name:"Alt Bayi",company_id:1,is_status:1},deliverySeller:{id:1,name:"Ana Bayi",company_id:1,is_status:1},confirmUser:{id:1,name:"John Doe",email:"john@example.com",company_id:1,seller_id:1}}]}catch(s){l.value=s instanceof Error?s.message:"Transfer listesi yüklenirken hata oluştu",console.error("Fetch transfers error:",s)}finally{t.value=!1}},createTransfer:async a=>{t.value=!0,l.value=null;try{const t={id:Date.now(),number:`TRF-${Date.now()}`,type:a.type,main_seller_id:a.main_seller_id,delivery_seller_id:a.delivery_seller_id,user_id:1,is_status:1,serial_list:a.serial_list,description:a.description,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};return e.value.unshift(t),t}catch(s){throw l.value=s instanceof Error?s.message:"Transfer oluşturulurken hata oluştu",console.error("Create transfer error:",s),s}finally{t.value=!1}},updateTransfer:async(a,s)=>{t.value=!0,l.value=null;try{const t=e.value.findIndex(e=>e.id===a);return-1!==t&&(e.value[t]={...e.value[t],...s,updated_at:(new Date).toISOString()}),e.value[t]}catch(n){throw l.value=n instanceof Error?n.message:"Transfer güncellenirken hata oluştu",console.error("Update transfer error:",n),n}finally{t.value=!1}},updateTransferStatus:async(a,s)=>{t.value=!0,l.value=null;try{const t=e.value.findIndex(e=>e.id===a);-1!==t&&(e.value[t].is_status=s,e.value[t].updated_at=(new Date).toISOString(),3===s&&(e.value[t].comfirm_date=(new Date).toISOString(),e.value[t].comfirm_id=1))}catch(n){throw l.value=n instanceof Error?n.message:"Transfer durumu güncellenirken hata oluştu",console.error("Update transfer status error:",n),n}finally{t.value=!1}},deleteTransfer:async a=>{t.value=!0,l.value=null;try{const t=e.value.findIndex(e=>e.id===a);-1!==t&&e.value.splice(t,1)}catch(s){throw l.value=s instanceof Error?s.message:"Transfer silinirken hata oluştu",console.error("Delete transfer error:",s),s}finally{t.value=!1}},getTransferById:a=>e.value.find(e=>e.id===a),clearError:()=>{l.value=null}}}),Ta={1:"Beklemede",2:"Ön Onay",3:"Onaylandı",4:"Reddedildi",5:"Tamamlandı"},Aa={1:"warning",2:"info",3:"success",4:"danger",5:"primary"},ja={class:"container-xxl flex-grow-1 container-p-y"},Ia={class:"card"},Ba={class:"card-body"},Oa={class:"col-md-3"},Da={class:"col-md-2"},Ea=["value"],La={class:"col-md-2"},za=["value"],Ca={class:"col-md-3"},$a=["value"],Pa={class:"col-md-2"},Na=["value"],Ua={class:"col-md-1"},qa=["value"],Ga={class:"col-md-2"},Ra={class:"col-12 mt-4"},Fa={class:"nav-align-top mb-4"},Ka={class:"nav nav-tabs",role:"tablist"},Ma={class:"nav-item"},Va={class:"nav-item"},Ya={class:"tab-content"},Za={key:0,class:"tab-pane fade show active"},Ja={class:"table-responsive text-nowrap"},Ha={class:"table"},Wa={class:"table-border-bottom-0"},Xa={class:"btn-group",role:"group"},Qa=["onClick"],et=["onClick"],at={key:1,class:"tab-pane fade show active"},tt={class:"table-responsive text-nowrap"},lt={class:"table"},st={class:"table-border-bottom-0"},nt=b({__name:"TransferList",setup(e){const t=Sa(),l=a("incoming"),s=a({}),n=a([]),r=a([]),i=a([]),o=a([]),c=a([]),u=m(()=>t.transfers.filter(e=>e.is_status<=3)),d=m(()=>t.transfers.filter(e=>e.is_status>3)),v=async()=>{await t.fetchTransfers(s.value)},p=async()=>{s.value.brand},b=e=>2===e.is_status&&1===e.delivery_seller_id,A=e=>1===e.is_status||2===e.is_status,j=e=>new Date(e).toLocaleDateString("tr-TR");return E(async()=>{await t.fetchTransfers()}),(e,a)=>{const m=w("router-link");return y(),f("div",ja,[a[29]||(a[29]=h("h4",{class:"fw-bold py-3 mb-4"},[h("span",{class:"text-muted fw-light"},"Sevkler /"),g(" Sevk listesi ")],-1)),h("div",Ia,[h("div",Ba,[h("form",{onSubmit:I(v,["prevent"]),class:"row g-3"},[h("div",Oa,[a[9]||(a[9]=h("label",{class:"form-label"},"Stok",-1)),O(h("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.stockName=e),type:"text",class:"form-control"},null,512),[[D,s.value.stockName]])]),h("div",Da,[a[11]||(a[11]=h("label",{class:"form-label"},"Marka",-1)),O(h("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.brand=e),class:"form-select",onChange:p},[a[10]||(a[10]=h("option",{value:""},"Tümü",-1)),(y(!0),f(L,null,z(n.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,Ea))),128))],544),[[C,s.value.brand]])]),h("div",La,[a[13]||(a[13]=h("label",{class:"form-label"},"Model",-1)),O(h("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.version=e),class:"form-select"},[a[12]||(a[12]=h("option",{value:""},"Tümü",-1)),(y(!0),f(L,null,z(r.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,za))),128))],512),[[C,s.value.version]])]),h("div",Ca,[a[15]||(a[15]=h("label",{class:"form-label"},"Kategori",-1)),O(h("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>s.value.category=e),class:"form-select"},[a[14]||(a[14]=h("option",{value:""},"Tümü",-1)),(y(!0),f(L,null,z(i.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.path),9,$a))),128))],512),[[C,s.value.category]])]),h("div",Pa,[a[17]||(a[17]=h("label",{class:"form-label"},"Renk",-1)),O(h("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>s.value.color=e),class:"form-select"},[a[16]||(a[16]=h("option",{value:""},"Tümü",-1)),(y(!0),f(L,null,z(o.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,Na))),128))],512),[[C,s.value.color]])]),h("div",Ua,[a[19]||(a[19]=h("label",{class:"form-label"},"Şube",-1)),O(h("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>s.value.seller=e),class:"form-select"},[a[18]||(a[18]=h("option",{value:"all"},"Tümü",-1)),(y(!0),f(L,null,z(c.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,qa))),128))],512),[[C,s.value.seller]])]),h("div",Ga,[a[20]||(a[20]=h("label",{class:"form-label"},"Seri Numarası",-1)),O(h("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>s.value.serialNumber=e),type:"text",class:"form-control"},null,512),[[D,s.value.serialNumber]])]),h("div",Ra,[a[22]||(a[22]=h("button",{type:"submit",class:"btn btn-sm btn-outline-primary"},"Ara",-1)),k(m,{to:"/transfers/create",class:"btn btn-sm btn-primary ms-2"},{default:x(()=>a[21]||(a[21]=[g(" Yeni Sevk Ekle ",-1)])),_:1,__:[21]})])],32)]),h("div",Fa,[h("ul",Ka,[h("li",Ma,[h("button",{type:"button",class:S(["nav-link",{active:"incoming"===l.value}]),onClick:a[7]||(a[7]=e=>l.value="incoming")}," Gelen Sevkler ",2)]),h("li",Va,[h("button",{type:"button",class:S(["nav-link",{active:"outgoing"===l.value}]),onClick:a[8]||(a[8]=e=>l.value="outgoing")}," Yapılan Sevkler ",2)])]),h("div",Ya,["incoming"===l.value?(y(),f("div",Za,[h("div",Ja,[h("table",Ha,[a[26]||(a[26]=h("thead",null,[h("tr",null,[h("th",null,"Numara"),h("th",null,"Tip"),h("th",null,"Gönderici Bayi"),h("th",null,"Oluşturma Zamanı"),h("th",null,"Alıcı Bayi"),h("th",null,"Gönderen"),h("th",null,"Teslim Alan"),h("th",null,"Durum"),h("th",null,"Teslim Tarihi"),h("th",null,"İşlemler")])],-1)),h("tbody",Wa,[(y(!0),f(L,null,z(u.value,e=>(y(),f("tr",{key:e.id},[h("td",null,[k(m,{to:`/transfers/${e.id}`},{default:x(()=>[g(_(e.number),1)]),_:2},1032,["to"])]),h("td",null,_("phone"===e.type?"TELEFON":"DİĞER"),1),h("td",null,_(e.mainSeller?.name),1),h("td",null,_(j(e.created_at)),1),h("td",null,_(e.deliverySeller?.name),1),h("td",null,_(e.user?.name),1),h("td",null,_(e.confirmUser?.name||"-"),1),h("td",null,[h("span",{class:S(`badge bg-label-${T(Aa)[e.is_status]}`)},_(T(Ta)[e.is_status]),3)]),h("td",null,_(e.comfirm_date||"-"),1),h("td",null,[h("div",Xa,[b(e)?(y(),f("button",{key:0,onClick:a=>(async e=>{confirm("Onaylamak istediğinizden emin misiniz?")&&await t.updateTransferStatus(e,3)})(e.id),class:"btn btn-sm btn-success",title:"Onayla"},a[23]||(a[23]=[h("i",{class:"bx bx-check"},null,-1)]),8,Qa)):B("",!0),A(e)?(y(),f("button",{key:1,onClick:a=>(async e=>{confirm("Reddetmek istediğinizden emin misiniz?")&&await t.updateTransferStatus(e,4)})(e.id),class:"btn btn-sm btn-danger",title:"Reddet"},a[24]||(a[24]=[h("i",{class:"bx bx-x"},null,-1)]),8,et)):B("",!0),k(m,{to:`/transfers/${e.id}/edit`,class:"btn btn-sm btn-primary",title:"Düzenle"},{default:x(()=>a[25]||(a[25]=[h("i",{class:"bx bx-edit"},null,-1)])),_:2,__:[25]},1032,["to"])])])]))),128))])])])])):B("",!0),"outgoing"===l.value?(y(),f("div",at,[h("div",tt,[h("table",lt,[a[28]||(a[28]=h("thead",null,[h("tr",null,[h("th",null,"Numara"),h("th",null,"Tip"),h("th",null,"Gönderici Bayi"),h("th",null,"Oluşturma Zamanı"),h("th",null,"Alıcı Bayi"),h("th",null,"Gönderen"),h("th",null,"Teslim Alan"),h("th",null,"Durum"),h("th",null,"Teslim Tarihi"),h("th",null,"İşlemler")])],-1)),h("tbody",st,[(y(!0),f(L,null,z(d.value,e=>(y(),f("tr",{key:e.id},[h("td",null,[k(m,{to:`/transfers/${e.id}`},{default:x(()=>[g(_(e.number),1)]),_:2},1032,["to"])]),h("td",null,_("phone"===e.type?"TELEFON":"DİĞER"),1),h("td",null,_(e.mainSeller?.name),1),h("td",null,_(j(e.created_at)),1),h("td",null,_(e.deliverySeller?.name),1),h("td",null,_(e.user?.name),1),h("td",null,_(e.confirmUser?.name||"-"),1),h("td",null,[h("span",{class:S(`badge bg-label-${T(Aa)[e.is_status]}`)},_(T(Ta)[e.is_status]),3)]),h("td",null,_(e.comfirm_date||"-"),1),h("td",null,[k(m,{to:`/transfers/${e.id}/edit`,class:"btn btn-sm btn-primary",title:"Düzenle"},{default:x(()=>a[27]||(a[27]=[h("i",{class:"bx bx-edit"},null,-1)])),_:2,__:[27]},1032,["to"])])]))),128))])])])])):B("",!0)])])])])}}}),rt={class:"container-xxl flex-grow-1 container-p-y"},it={class:"fw-bold py-3 mb-4"},ot={class:"card card-vue"},ct={class:"card-body"},ut={class:"row"},dt={class:"col-md-6 mb-3"},mt=["value"],vt={class:"col-md-6 mb-3"},pt=["value"],bt={class:"col-md-6 mb-3"},ft={class:"col-12 mb-3"},ht={class:"serial-inputs"},yt=["onUpdate:modelValue","placeholder"],gt=["onClick"],_t={class:"col-12 mb-3"},kt={class:"d-flex justify-content-end gap-2"},xt=["disabled"],wt={key:0,class:"bx bx-loader-alt bx-spin me-1"},St={key:1,class:"bx bx-save me-1"},Tt=ce(b({__name:"TransferForm",setup(e){const t=A(),l=j(),s=Sa(),n=a(!1),r=a({type:"phone",main_seller_id:0,delivery_seller_id:0,serial_list:[""],description:""}),i=a([{id:1,name:"Ana Bayi"},{id:2,name:"Alt Bayi 1"},{id:3,name:"Alt Bayi 2"}]),o=m(()=>void 0!==t.params.id),c=()=>{r.value.serial_list.push("")},u=async()=>{n.value=!0;try{const e=r.value.serial_list.filter(e=>""!==e.trim());if(0===e.length)return void alert("En az bir seri numarası girmelisiniz");const a={...r.value,serial_list:e};o.value?await s.updateTransfer(Number(t.params.id),a):await s.createTransfer(a),l.push("/transfers")}catch(e){console.error("Form submission error:",e),alert("Bir hata oluştu")}finally{n.value=!1}};return E(async()=>{await s.fetchTransfers(),await(async()=>{if(o.value){const e=s.getTransferById(Number(t.params.id));e&&(r.value={type:e.type,main_seller_id:e.main_seller_id,delivery_seller_id:e.delivery_seller_id,serial_list:e.serial_list||[""],description:e.description||""})}})()}),(e,a)=>{const t=w("router-link");return y(),f("div",rt,[h("h4",it,[a[4]||(a[4]=h("span",{class:"text-muted fw-light"},"Sevkler /",-1)),g(" "+_(o.value?"Sevk Düzenle":"Yeni Sevk"),1)]),h("div",ot,[h("div",ct,[h("form",{onSubmit:I(u,["prevent"]),class:"form-vue"},[h("div",ut,[h("div",dt,[a[6]||(a[6]=h("label",{class:"form-label"},"Gönderici Bayi",-1)),O(h("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.value.main_seller_id=e),class:"form-select",required:""},[a[5]||(a[5]=h("option",{value:""},"Bayi Seçiniz",-1)),(y(!0),f(L,null,z(i.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,mt))),128))],512),[[C,r.value.main_seller_id]])]),h("div",vt,[a[8]||(a[8]=h("label",{class:"form-label"},"Alıcı Bayi",-1)),O(h("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.value.delivery_seller_id=e),class:"form-select",required:""},[a[7]||(a[7]=h("option",{value:""},"Bayi Seçiniz",-1)),(y(!0),f(L,null,z(i.value,e=>(y(),f("option",{key:e.id,value:e.id},_(e.name),9,pt))),128))],512),[[C,r.value.delivery_seller_id]])]),h("div",bt,[a[10]||(a[10]=h("label",{class:"form-label"},"Sevk Tipi",-1)),O(h("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>r.value.type=e),class:"form-select",required:""},a[9]||(a[9]=[h("option",{value:"phone"},"Telefon",-1),h("option",{value:"other"},"Diğer",-1)]),512),[[C,r.value.type]])]),h("div",ft,[a[13]||(a[13]=h("label",{class:"form-label"},"Seri Numaraları",-1)),h("div",ht,[(y(!0),f(L,null,z(r.value.serial_list,(e,t)=>(y(),f("div",{key:t,class:"input-group mb-2"},[O(h("input",{"onUpdate:modelValue":e=>r.value.serial_list[t]=e,type:"text",class:"form-control",placeholder:`Seri No ${t+1}`,required:""},null,8,yt),[[D,r.value.serial_list[t]]]),r.value.serial_list.length>1?(y(),f("button",{key:0,type:"button",class:"btn btn-outline-danger",onClick:e=>(e=>{r.value.serial_list.splice(e,1)})(t)},a[11]||(a[11]=[h("i",{class:"bx bx-trash"},null,-1)]),8,gt)):B("",!0)]))),128))]),h("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:c},a[12]||(a[12]=[h("i",{class:"bx bx-plus"},null,-1),g(" Seri No Ekle ",-1)]))]),h("div",_t,[a[14]||(a[14]=h("label",{class:"form-label"},"Açıklama",-1)),O(h("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>r.value.description=e),class:"form-control",rows:"3",placeholder:"Sevk açıklaması..."},null,512),[[D,r.value.description]])])]),h("div",kt,[k(t,{to:"/transfers",class:"btn btn-secondary"},{default:x(()=>a[15]||(a[15]=[h("i",{class:"bx bx-arrow-back me-1"},null,-1),g(" İptal ",-1)])),_:1,__:[15]}),h("button",{type:"submit",class:"btn btn-vue",disabled:n.value},[n.value?(y(),f("i",wt)):(y(),f("i",St)),g(" "+_(o.value?"Güncelle":"Kaydet"),1)],8,xt)])],32)])])])}}}),[["__scopeId","data-v-46ac1bc6"]]),At={class:"container-xxl flex-grow-1 container-p-y"},jt={class:"card card-vue"},It={class:"card-header d-flex justify-content-between align-items-center"},Bt={class:"card-body"},Ot={class:"table-responsive"},Dt={class:"table table-vue"},Et={class:"btn-group",role:"group"},Lt=["onClick"],zt={class:"container-xxl flex-grow-1 container-p-y"},Ct={class:"card card-vue"},$t={class:"card-header d-flex justify-content-between align-items-center"},Pt={class:"card-body"},Nt={class:"table-responsive"},Ut={class:"table table-vue"},qt={class:"btn-group",role:"group"},Gt=["onClick"],Rt=[{path:"/login",name:"login",component:Ke,meta:{title:"Giriş",requiresGuest:!0}},{path:"/",component:Le,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:wa,meta:{title:"Anasayfa"}},{path:"/transfers",name:"transfers",component:nt,meta:{title:"Sevk Listesi"}},{path:"/transfers/create",name:"transfer.create",component:Tt,meta:{title:"Yeni Sevk"}},{path:"/transfers/:id/edit",name:"transfer.edit",component:Tt,meta:{title:"Sevk Düzenle"}},{path:"/stockcards",name:"stockcards",component:b({__name:"StockCardList",setup(e){const t=a([{id:1,code:"STK-001",name:"iPhone 14 Pro",category:{id:1,name:"Telefon"},brand:{id:1,name:"Apple"},version:{id:1,name:"14 Pro"},color:{id:1,name:"Siyah"},quantity:15,price:45e3},{id:2,code:"STK-002",name:"Samsung Galaxy S23",category:{id:1,name:"Telefon"},brand:{id:2,name:"Samsung"},version:{id:2,name:"S23"},color:{id:2,name:"Beyaz"},quantity:8,price:35e3},{id:3,code:"STK-003",name:"MacBook Pro",category:{id:2,name:"Bilgisayar"},brand:{id:1,name:"Apple"},version:{id:3,name:"M2 Pro"},color:{id:3,name:"Gümüş"},quantity:3,price:85e3}]);return E(()=>{}),(e,a)=>{const l=w("router-link");return y(),f("div",At,[a[6]||(a[6]=h("h4",{class:"fw-bold py-3 mb-4"},[h("span",{class:"text-muted fw-light"},"Stok /"),g(" Stok Kartları ")],-1)),h("div",jt,[h("div",It,[a[1]||(a[1]=h("h5",{class:"card-title mb-0"},"Stok Kartları Listesi",-1)),k(l,{to:"/stockcards/create",class:"btn btn-vue"},{default:x(()=>a[0]||(a[0]=[h("i",{class:"bx bx-plus me-1"},null,-1),g(" Yeni Stok Kartı ",-1)])),_:1,__:[0]})]),h("div",Bt,[h("div",Ot,[h("table",Dt,[a[5]||(a[5]=h("thead",null,[h("tr",null,[h("th",null,"Kod"),h("th",null,"Ürün Adı"),h("th",null,"Kategori"),h("th",null,"Marka"),h("th",null,"Model"),h("th",null,"Renk"),h("th",null,"Stok"),h("th",null,"Fiyat"),h("th",null,"İşlemler")])],-1)),h("tbody",null,[(y(!0),f(L,null,z(t.value,e=>{return y(),f("tr",{key:e.id},[h("td",null,_(e.code),1),h("td",null,_(e.name),1),h("td",null,_(e.category?.name),1),h("td",null,_(e.brand?.name),1),h("td",null,_(e.version?.name),1),h("td",null,_(e.color?.name),1),h("td",null,[h("span",{class:S("badge badge-vue "+(n=e.quantity,0===n?"status-rejected":n<5?"status-pending":"status-completed"))},_(e.quantity),3)]),h("td",null,_((s=e.price,new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(s))),1),h("td",null,[h("div",Et,[k(l,{to:`/stockcards/${e.id}`,class:"btn btn-sm btn-outline-primary",title:"Görüntüle"},{default:x(()=>a[2]||(a[2]=[h("i",{class:"bx bx-show"},null,-1)])),_:2,__:[2]},1032,["to"]),k(l,{to:`/stockcards/${e.id}/edit`,class:"btn btn-sm btn-outline-warning",title:"Düzenle"},{default:x(()=>a[3]||(a[3]=[h("i",{class:"bx bx-edit"},null,-1)])),_:2,__:[3]},1032,["to"]),h("button",{onClick:a=>(async e=>{confirm("Bu stok kartını silmek istediğinizden emin misiniz?")&&(t.value=t.value.filter(a=>a.id!==e))})(e.id),class:"btn btn-sm btn-outline-danger",title:"Sil"},a[4]||(a[4]=[h("i",{class:"bx bx-trash"},null,-1)]),8,Lt)])])]);var s,n}),128))])])])])])])}}}),meta:{title:"Stok Kartları"}},{path:"/sales",name:"sales",component:b({__name:"SaleList",setup(e){const t=a([{id:1,number:"SAT-001",customer:{id:1,name:"Ahmet Yılmaz"},product:{id:1,name:"iPhone 14 Pro"},quantity:1,unit_price:45e3,total_price:45e3,status:"completed",created_at:"2024-01-15T10:00:00Z"},{id:2,number:"SAT-002",customer:{id:2,name:"Fatma Demir"},product:{id:2,name:"Samsung Galaxy S23"},quantity:2,unit_price:35e3,total_price:7e4,status:"pending",created_at:"2024-01-16T14:30:00Z"},{id:3,number:"SAT-003",customer:{id:3,name:"Mehmet Kaya"},product:{id:3,name:"MacBook Pro"},quantity:1,unit_price:85e3,total_price:85e3,status:"cancelled",created_at:"2024-01-17T09:15:00Z"}]),l=e=>{switch(e){case"completed":return"status-completed";case"pending":default:return"status-pending";case"cancelled":return"status-rejected"}},s=e=>{switch(e){case"completed":return"Tamamlandı";case"pending":return"Beklemede";case"cancelled":return"İptal Edildi";default:return"Bilinmiyor"}},n=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(e);return E(()=>{}),(e,a)=>{const r=w("router-link");return y(),f("div",zt,[a[6]||(a[6]=h("h4",{class:"fw-bold py-3 mb-4"},[h("span",{class:"text-muted fw-light"},"Satış /"),g(" Satış Listesi ")],-1)),h("div",Ct,[h("div",$t,[a[1]||(a[1]=h("h5",{class:"card-title mb-0"},"Satış Listesi",-1)),k(r,{to:"/sales/create",class:"btn btn-vue"},{default:x(()=>a[0]||(a[0]=[h("i",{class:"bx bx-plus me-1"},null,-1),g(" Yeni Satış ",-1)])),_:1,__:[0]})]),h("div",Pt,[h("div",Nt,[h("table",Ut,[a[5]||(a[5]=h("thead",null,[h("tr",null,[h("th",null,"Satış No"),h("th",null,"Müşteri"),h("th",null,"Ürün"),h("th",null,"Miktar"),h("th",null,"Birim Fiyat"),h("th",null,"Toplam"),h("th",null,"Tarih"),h("th",null,"Durum"),h("th",null,"İşlemler")])],-1)),h("tbody",null,[(y(!0),f(L,null,z(t.value,e=>{return y(),f("tr",{key:e.id},[h("td",null,_(e.number),1),h("td",null,_(e.customer?.name),1),h("td",null,_(e.product?.name),1),h("td",null,_(e.quantity),1),h("td",null,_(n(e.unit_price)),1),h("td",null,_(n(e.total_price)),1),h("td",null,_((i=e.created_at,new Date(i).toLocaleDateString("tr-TR"))),1),h("td",null,[h("span",{class:S(`badge badge-vue ${l(e.status)}`)},_(s(e.status)),3)]),h("td",null,[h("div",qt,[k(r,{to:`/sales/${e.id}`,class:"btn btn-sm btn-outline-primary",title:"Görüntüle"},{default:x(()=>a[2]||(a[2]=[h("i",{class:"bx bx-show"},null,-1)])),_:2,__:[2]},1032,["to"]),k(r,{to:`/sales/${e.id}/edit`,class:"btn btn-sm btn-outline-warning",title:"Düzenle"},{default:x(()=>a[3]||(a[3]=[h("i",{class:"bx bx-edit"},null,-1)])),_:2,__:[3]},1032,["to"]),h("button",{onClick:a=>(async e=>{confirm("Bu satışı silmek istediğinizden emin misiniz?")&&(t.value=t.value.filter(a=>a.id!==e))})(e.id),class:"btn btn-sm btn-outline-danger",title:"Sil"},a[4]||(a[4]=[h("i",{class:"bx bx-trash"},null,-1)]),8,Gt)])])]);var i}),128))])])])])])])}}}),meta:{title:"Satışlar"}}]}],Ft=$({history:P(),routes:Rt});Ft.beforeEach(async(e,a,t)=>{e.meta.title&&(document.title=`${e.meta.title} - PHP Portal`);const l=ie();if(e.meta.requiresAuth&&!l.isLoggedIn){if(!(await l.checkAuth()))return void t({name:"login"})}e.meta.requiresGuest&&l.isLoggedIn?t({name:"dashboard"}):t()});const Kt={id:"app"},Mt=N(b({__name:"App",setup(e){const a=ie();return E(()=>{a.initializeAuth()}),(e,a)=>{const t=w("router-view");return y(),f("div",Kt,[k(t)])}}}));Mt.use(function(){const l=e(!0),s=l.run(()=>a({}));let n=[],r=[];const i=t({install(e){R(i),i._a=e,e.provide(F,i),e.config.globalProperties.$pinia=i,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:l,_s:new Map,state:s});return i}()),Mt.use(Ft),Mt.mount("#app");
